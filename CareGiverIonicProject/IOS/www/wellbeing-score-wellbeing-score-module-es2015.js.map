{"version":3,"sources":["./src/app/wellbeing-score/wellbeing-score.page.html","./src/app/wellbeing-score/wellbeing-score-routing.module.ts","./src/app/wellbeing-score/wellbeing-score.module.ts","./src/app/wellbeing-score/wellbeing-score.page.scss","./src/app/wellbeing-score/wellbeing-score.page.ts"],"names":[],"mappings":"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","file":"wellbeing-score-wellbeing-score-module-es2015.js","sourcesContent":["module.exports = \"<ion-header>\\r\\n  <ion-toolbar>\\r\\n    <ion-buttons slot=\\\"start\\\">\\r\\n      <ion-back-button defaultHref=\\\"/\\\"></ion-back-button>\\r\\n    </ion-buttons>\\r\\n    <ion-title style=\\\"text-align: center;\\\">Well-being Score</ion-title>\\r\\n  </ion-toolbar>\\r\\n</ion-header>\\r\\n\\r\\n<ion-content>\\r\\n  <ion-grid style=\\\"margin-top: 30px;\\\">\\r\\n      <ion-card class=\\\"welcome-card\\\">\\r\\n        <ion-card-header>\\r\\n          <ion-card-title>Well-being Score Rate Change</ion-card-title>\\r\\n        </ion-card-header>\\r\\n        <ion-card-content>\\r\\n          <canvas #barChart></canvas>\\r\\n        </ion-card-content>\\r\\n      </ion-card>\\r\\n  </ion-grid>\\r\\n</ion-content>\\r\\n\"","import {NgModule} from '@angular/core';\r\nimport {RouterModule, Routes} from '@angular/router';\r\n\r\nimport {WellbeingScorePage} from './wellbeing-score.page';\r\n\r\nconst routes: Routes = [\r\n  {\r\n    path: '',\r\n    component: WellbeingScorePage\r\n  }\r\n];\r\n\r\n@NgModule({\r\n  imports: [RouterModule.forChild(routes)],\r\n  exports: [RouterModule],\r\n})\r\nexport class WellbeingScorePageRoutingModule {\r\n}\r\n","import {NgModule} from '@angular/core';\r\nimport {CommonModule} from '@angular/common';\r\nimport {FormsModule} from '@angular/forms';\r\n\r\nimport {IonicModule} from '@ionic/angular';\r\n\r\nimport {WellbeingScorePageRoutingModule} from './wellbeing-score-routing.module';\r\n\r\nimport {WellbeingScorePage} from './wellbeing-score.page';\r\n\r\n@NgModule({\r\n  imports: [\r\n    CommonModule,\r\n    FormsModule,\r\n    IonicModule,\r\n    WellbeingScorePageRoutingModule\r\n  ],\r\n  declarations: [WellbeingScorePage]\r\n})\r\nexport class WellbeingScorePageModule {\r\n}\r\n","module.exports = \"ion-content {\\n  --background: white;\\n}\\n\\nion-toolbar {\\n  --background: rgb(7, 156, 161);\\n  color: white;\\n}\\n\\n.welcome-card {\\n  max-width: 40em;\\n  margin: 0 auto;\\n  padding-top: 10;\\n}\\n/*# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbInNyYy9hcHAvd2VsbGJlaW5nLXNjb3JlL0Y6XFxJb25pY1Byb2plY3RcXEdpdFxcQ2FyZUdpdmVyXFxDYXJlR2l2ZXJJb25pY1Byb2plY3Qvc3JjXFxhcHBcXHdlbGxiZWluZy1zY29yZVxcd2VsbGJlaW5nLXNjb3JlLnBhZ2Uuc2NzcyIsInNyYy9hcHAvd2VsbGJlaW5nLXNjb3JlL3dlbGxiZWluZy1zY29yZS5wYWdlLnNjc3MiXSwibmFtZXMiOltdLCJtYXBwaW5ncyI6IkFBQUE7RUFDRSxtQkFBQTtBQ0NGOztBREVBO0VBQ0UsOEJBQUE7RUFDQSxZQUFBO0FDQ0Y7O0FERUE7RUFDRSxlQUFBO0VBQ0EsY0FBQTtFQUNBLGVBQUE7QUNDRiIsImZpbGUiOiJzcmMvYXBwL3dlbGxiZWluZy1zY29yZS93ZWxsYmVpbmctc2NvcmUucGFnZS5zY3NzIiwic291cmNlc0NvbnRlbnQiOlsiaW9uLWNvbnRlbnQge1xyXG4gIC0tYmFja2dyb3VuZDogd2hpdGU7IC8vIHVybCguLi8uLi9hc3NldHMvd2hpdGVsZWFmLmpwZykgMCAwLzEwMCUgMTAwJSByZXBlYXQ7XHJcbn1cclxuXHJcbmlvbi10b29sYmFyIHtcclxuICAtLWJhY2tncm91bmQ6IHJnYig3LCAxNTYsIDE2MSk7IC8vIHVybCguLi8uLi8uLi9hc3NldHMvdG9vbGJhci5qcGcpIDAgMC8xMDAlIDEwMCUgcmVwZWF0O1xyXG4gIGNvbG9yOiB3aGl0ZTtcclxufVxyXG5cclxuLndlbGNvbWUtY2FyZHtcclxuICBtYXgtd2lkdGg6IDQwZW07XHJcbiAgbWFyZ2luOiAwIGF1dG87XHJcbiAgcGFkZGluZy10b3A6IDEwO1xyXG59IiwiaW9uLWNvbnRlbnQge1xuICAtLWJhY2tncm91bmQ6IHdoaXRlO1xufVxuXG5pb24tdG9vbGJhciB7XG4gIC0tYmFja2dyb3VuZDogcmdiKDcsIDE1NiwgMTYxKTtcbiAgY29sb3I6IHdoaXRlO1xufVxuXG4ud2VsY29tZS1jYXJkIHtcbiAgbWF4LXdpZHRoOiA0MGVtO1xuICBtYXJnaW46IDAgYXV0bztcbiAgcGFkZGluZy10b3A6IDEwO1xufSJdfQ== */\"","import {Component, OnInit, ViewChild} from '@angular/core';\r\nimport {UserService} from '../user.service';\r\nimport {AngularFireAuth} from '@angular/fire/auth';\r\nimport {HttpClient} from '@angular/common/http';\r\nimport {Chart} from 'chart.js';\r\nimport {AuthService} from '../auth.service';\r\n\r\n@Component({\r\n  selector: 'app-wellbeing-score',\r\n  templateUrl: './wellbeing-score.page.html',\r\n  styleUrls: ['./wellbeing-score.page.scss'],\r\n})\r\nexport class WellbeingScorePage implements OnInit {\r\n  public wellbeingScore: number;\r\n  @ViewChild('barChart', {static: false}) barChart;\r\n  bars: any;\r\n\r\n  constructor(\r\n    private user: UserService,\r\n    private http: HttpClient,\r\n    public afAuth: AngularFireAuth,\r\n    private auth: AuthService) {\r\n  }\r\n\r\n  ngOnInit() {\r\n    this.showScore();\r\n  }\r\n\r\n  async showScore() {\r\n    const uid = this.auth.cUid;\r\n    const score = this.user.getEma(uid);\r\n    let wellbeingData;\r\n    if (score) {\r\n      score.subscribe(data => {\r\n        wellbeingData = data;\r\n        const wellbeingDataset = [];\r\n        if (wellbeingData) {\r\n          const dateData = [];\r\n          for (const item of wellbeingData) {\r\n            if (item) {\r\n              wellbeingDataset.push(item.wellbeingScore);\r\n              dateData.push(item.date);\r\n            }\r\n          }\r\n          this.createWellbeingScoreChart(wellbeingDataset, dateData);\r\n        }\r\n      });\r\n      // tslint:disable-next-line: only-arrow-functions\r\n      setTimeout(function() {\r\n      }, 1000, []);\r\n    }\r\n  }\r\n\r\n  createWellbeingScoreChart(dataSet: number[], date: string[]) {\r\n    const labelData = [];\r\n    // tslint:disable-next-line: forin\r\n    for (const item in dataSet) {\r\n      labelData.push('');\r\n    }\r\n    this.bars = new Chart(this.barChart.nativeElement, {\r\n      type: 'bar',\r\n      data: {\r\n        labels: date,\r\n        datasets: [{\r\n          label: 'Well-being Score per Day',\r\n          data: dataSet,\r\n          backgroundColor: 'rgb(38, 194, 129)', // array should have same number of elements as number of dataset\r\n          borderColor: 'royalblue', // array should have same number of elements as number of dataset\r\n          borderWidth: 1\r\n        }]\r\n      },\r\n      options: {\r\n        scales: {\r\n          xAxes: [{\r\n            display: false,\r\n            barPercentage: 1.3,\r\n            ticks: {\r\n              max: 3,\r\n            }\r\n          }, {\r\n            display: true,\r\n            ticks: {\r\n              autoSkip: false,\r\n              max: 4,\r\n            }\r\n          }],\r\n          yAxes: [{\r\n            ticks: {\r\n              beginAtZero: true\r\n            }\r\n          }]\r\n        }\r\n      }\r\n    });\r\n  }\r\n}\r\n"],"sourceRoot":""}