{"version":3,"sources":["./node_modules/Firebase/dist/index.cjs.js","./src/app/home/chat/home/home.page.html","./src/app/home/chat/home/home-routing.module.ts","./src/app/home/chat/home/home.module.ts","./src/app/home/chat/home/home.page.scss","./src/app/home/chat/home/home.page.ts"],"names":[],"mappings":"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","file":"home-chat-home-home-module-es2015.js","sourcesContent":["'use strict';\n\nvar firebase = require('@firebase/app');\nrequire('@firebase/auth');\nrequire('@firebase/database');\nrequire('@firebase/firestore');\nrequire('@firebase/functions');\nrequire('@firebase/messaging');\nrequire('@firebase/storage');\nrequire('@firebase/performance');\nrequire('@firebase/analytics');\nrequire('@firebase/remote-config');\n\nfunction _interopDefaultLegacy (e) { return e && typeof e === 'object' && 'default' in e ? e : { 'default': e }; }\n\nvar firebase__default = /*#__PURE__*/_interopDefaultLegacy(firebase);\n\nvar name = \"firebase\";\nvar version = \"7.21.0\";\n\n/**\r\n * @license\r\n * Copyright 2018 Google LLC\r\n *\r\n * Licensed under the Apache License, Version 2.0 (the \"License\");\r\n * you may not use this file except in compliance with the License.\r\n * You may obtain a copy of the License at\r\n *\r\n *   http://www.apache.org/licenses/LICENSE-2.0\r\n *\r\n * Unless required by applicable law or agreed to in writing, software\r\n * distributed under the License is distributed on an \"AS IS\" BASIS,\r\n * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\r\n * See the License for the specific language governing permissions and\r\n * limitations under the License.\r\n */\r\nfirebase__default['default'].registerVersion(name, version, 'app');\n\nvar name$1 = \"firebase\";\nvar version$1 = \"7.21.0\";\n\n/**\r\n * @license\r\n * Copyright 2017 Google LLC\r\n *\r\n * Licensed under the Apache License, Version 2.0 (the \"License\");\r\n * you may not use this file except in compliance with the License.\r\n * You may obtain a copy of the License at\r\n *\r\n *   http://www.apache.org/licenses/LICENSE-2.0\r\n *\r\n * Unless required by applicable law or agreed to in writing, software\r\n * distributed under the License is distributed on an \"AS IS\" BASIS,\r\n * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\r\n * See the License for the specific language governing permissions and\r\n * limitations under the License.\r\n */\r\nconsole.warn(\"\\nIt looks like you're using the development build of the Firebase JS SDK.\\nWhen deploying Firebase apps to production, it is advisable to only import\\nthe individual SDK components you intend to use.\\n\\nFor the module builds, these are available in the following manner\\n(replace <PACKAGE> with the name of a component - i.e. auth, database, etc):\\n\\nCommonJS Modules:\\nconst firebase = require('firebase/app');\\nrequire('firebase/<PACKAGE>');\\n\\nES Modules:\\nimport firebase from 'firebase/app';\\nimport 'firebase/<PACKAGE>';\\n\\nTypescript:\\nimport * as firebase from 'firebase/app';\\nimport 'firebase/<PACKAGE>';\\n\");\r\nfirebase__default['default'].registerVersion(name$1, version$1);\n\nmodule.exports = firebase__default['default'];\n//# sourceMappingURL=index.cjs.js.map\n","module.exports = \"<ion-header>\\r\\n  <ion-toolbar>\\r\\n    <ion-buttons slot=\\\"start\\\">\\r\\n      <ion-button (click)=\\\"exitChat()\\\">\\r\\n        <ion-icon name=\\\"exit\\\"></ion-icon> Exit\\r\\n      </ion-button>\\r\\n    </ion-buttons>\\r\\n    <ion-title style=\\\"text-align: center;\\\">Care Giver Chat</ion-title>\\r\\n  </ion-toolbar>\\r\\n</ion-header>\\r\\n\\r\\n<ion-content padding #content>\\r\\n  <ion-list>\\r\\n    <ion-grid *ngFor=\\\"let chat of chats\\\" no-lines>\\r\\n      <div class=\\\"chat-status\\\" text-center *ngIf=\\\"chat.type==='join'||chat.type==='exit';else message\\\">\\r\\n        <span class=\\\"chat-date\\\">{{chat.sendDate | date:'short'}}</span>\\r\\n        <span class=\\\"chat-content-center\\\">{{chat.message}}</span>\\r\\n      </div>\\r\\n      <ng-template #message>\\r\\n        <div class=\\\"chat-message\\\" text-right *ngIf=\\\"chat.user === displayName\\\">\\r\\n          <div class=\\\"right-bubble\\\">\\r\\n            <span class=\\\"msg-name\\\">Me</span>\\r\\n            <span class=\\\"msg-date\\\">{{chat.sendDate | date:'short'}}</span>\\r\\n            <p text-wrap>{{chat.message}}</p>\\r\\n          </div>\\r\\n        </div>\\r\\n        <div class=\\\"chat-message\\\" text-left *ngIf=\\\"chat.user !== displayName\\\">\\r\\n          <div class=\\\"left-bubble\\\">\\r\\n            <span class=\\\"msg-name\\\">{{(chat.user)}}</span>\\r\\n            <span class=\\\"msg-date\\\">{{chat.sendDate | date:'short'}}</span>\\r\\n            <p text-wrap>{{chat.message}}</p>\\r\\n          </div>\\r\\n        </div>\\r\\n      </ng-template>\\r\\n    </ion-grid>\\r\\n  </ion-list>\\r\\n</ion-content>\\r\\n\\r\\n<ion-footer>\\r\\n  <ion-toolbar class=\\\"footer\\\">\\r\\n    <ion-row align-items-center no-padding>\\r\\n      <ion-col col-10>\\r\\n          <textarea autosize maxRows=\\\"5\\\" type=\\\"text\\\" placeholder=\\\"Type a message\\\"\\r\\n                    [(ngModel)]=\\\"data.message\\\" name=\\\"message\\\" class=\\\"msg-input\\\"></textarea>\\r\\n      </ion-col> &nbsp;&nbsp;\\r\\n      <ion-fab-button fill=\\\"clear\\\" color=\\\"rgba(255, 0, 0, 0)\\\"\\r\\n                      style=\\\"color: rgba(255, 0, 0, 0); margin-right: 30px;\\\"\\r\\n                      [disabled]=\\\"data.message === ''\\\" (click)=\\\"sendMessage()\\\">\\r\\n        <ion-icon name=\\\"paper-plane\\\"></ion-icon>\\r\\n      </ion-fab-button>\\r\\n    </ion-row>\\r\\n  </ion-toolbar>\\r\\n</ion-footer>\\r\\n  \\r\\n\"","import {NgModule} from '@angular/core';\r\nimport {RouterModule, Routes} from '@angular/router';\r\n\r\nimport {HomePage} from './home.page';\r\n\r\nconst routes: Routes = [\r\n  {\r\n    path: '',\r\n    component: HomePage\r\n  }\r\n];\r\n\r\n@NgModule({\r\n  imports: [RouterModule.forChild(routes)],\r\n  exports: [RouterModule],\r\n})\r\nexport class HomePageRoutingModule {\r\n}\r\n","import {NgModule} from '@angular/core';\r\nimport {CommonModule} from '@angular/common';\r\nimport {FormsModule} from '@angular/forms';\r\n\r\nimport {IonicModule} from '@ionic/angular';\r\nimport {HomePageRoutingModule} from './home-routing.module';\r\nimport {HomePage} from './home.page';\r\n\r\n@NgModule({\r\n  imports: [\r\n    CommonModule,\r\n    FormsModule,\r\n    IonicModule,\r\n    HomePageRoutingModule\r\n  ],\r\n  declarations: [HomePage]\r\n})\r\nexport class HomePageModule {\r\n}\r\n","module.exports = \"ion-content {\\n  --background: white;\\n}\\n\\nion-toolbar {\\n  --background: rgb(7, 156, 161);\\n  color: white;\\n}\\n\\nion-list {\\n  background: rgba(186, 186, 248, 0);\\n}\\n\\nion-footer ion-toolbar.footer {\\n  height: 80px;\\n  --background: rgb(214, 228, 189);\\n}\\n\\nion-footer ion-icon {\\n  color: green;\\n}\\n\\n.msg-input {\\n  height: 60px;\\n  width: 90%;\\n  border: 1px solid vat(--ion-color-medium);\\n  border-radius: 10px;\\n  background: white;\\n  color: black;\\n  resize: none;\\n  padding-left: 10px;\\n  padding-right: 10px;\\n}\\n\\n.chat-status {\\n  min-height: 49px;\\n}\\n\\n.chat-status .chat-date {\\n  display: block;\\n  font-size: 10px;\\n  font-style: italic;\\n  color: black;\\n  height: 15px;\\n  left: 10%;\\n  right: 10%;\\n}\\n\\n.chat-status .chat-content-center {\\n  padding: 5px 10px;\\n  background-color: #e5d4ec;\\n  border-radius: 6px;\\n  font-size: 12px;\\n  color: black;\\n  height: 34px;\\n  left: 10%;\\n  right: 10%;\\n}\\n\\n.chat-message {\\n  width: 50%;\\n  min-height: 50px;\\n}\\n\\n.chat-message .right-bubble {\\n  position: relative;\\n  background: #0000004b;\\n  color: white;\\n  border-top-left-radius: 0.4em;\\n  border-bottom-left-radius: 0.5em;\\n  border-bottom-right-radius: 0.5em;\\n  padding: 5px 10px 10px;\\n  left: 90%;\\n}\\n\\n.chat-message .right-bubble span.msg-name {\\n  font-size: 12px;\\n  font-weight: bold;\\n  color: black;\\n}\\n\\n.chat-message .right-bubble span.msg-date {\\n  font-size: 10px;\\n  color: black;\\n}\\n\\n.chat-message .right-bubble:after {\\n  content: \\\"\\\";\\n  position: absolute;\\n  right: 0;\\n  top: 0;\\n  width: 0;\\n  height: 0;\\n  border: 27px solid transparent;\\n  border-left-color: #0000004b;\\n  border-right: 0;\\n  border-top: 0;\\n  margin-top: 0px;\\n  margin-right: -27px;\\n}\\n\\n.chat-message .left-bubble {\\n  position: relative;\\n  background: #3cb7ff70;\\n  border-top-right-radius: 0.4em;\\n  border-bottom-left-radius: 0.4em;\\n  border-bottom-right-radius: 0.4em;\\n  padding: 5px 10px 10px;\\n  left: 10%;\\n}\\n\\n.chat-message .left-bubble span.msg-name {\\n  font-size: 12px;\\n  font-weight: bold;\\n  color: black;\\n}\\n\\n.chat-message .left-bubble span.msg-date {\\n  font-size: 10px;\\n}\\n\\n.chat-message .left-bubble:after {\\n  content: \\\"\\\";\\n  position: absolute;\\n  left: 0;\\n  top: 0;\\n  width: 0;\\n  height: 0;\\n  border: 27px solid transparent;\\n  border-right-color: #3cb7ff70;\\n  border-left: 0;\\n  border-top: 0;\\n  margin-top: 0px;\\n  margin-left: -27px;\\n}\\n/*# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbInNyYy9hcHAvaG9tZS9jaGF0L2hvbWUvRjpcXElvbmljUHJvamVjdFxcR2l0XFxDYXJlR2l2ZXJcXENhcmVHaXZlcklvbmljUHJvamVjdC9zcmNcXGFwcFxcaG9tZVxcY2hhdFxcaG9tZVxcaG9tZS5wYWdlLnNjc3MiLCJzcmMvYXBwL2hvbWUvY2hhdC9ob21lL2hvbWUucGFnZS5zY3NzIl0sIm5hbWVzIjpbXSwibWFwcGluZ3MiOiJBQUFBO0VBQ0UsbUJBQUE7QUNDRjs7QURFQTtFQUNFLDhCQUFBO0VBQ0EsWUFBQTtBQ0NGOztBREVBO0VBQ0Usa0NBQUE7QUNDRjs7QURHRTtFQUNFLFlBQUE7RUFDQSxnQ0FBQTtBQ0FKOztBREdFO0VBQ0UsWUFBQTtBQ0RKOztBREtBO0VBQ0UsWUFBQTtFQUNBLFVBQUE7RUFDQSx5Q0FBQTtFQUNBLG1CQUFBO0VBQ0EsaUJBQUE7RUFDQSxZQUFBO0VBQ0EsWUFBQTtFQUNBLGtCQUFBO0VBQ0EsbUJBQUE7QUNGRjs7QURLQTtFQUNFLGdCQUFBO0FDRkY7O0FESUU7RUFDRSxjQUFBO0VBQ0EsZUFBQTtFQUNBLGtCQUFBO0VBQ0EsWUFBQTtFQUVBLFlBQUE7RUFDQSxTQUFBO0VBQ0EsVUFBQTtBQ0hKOztBRE1FO0VBQ0UsaUJBQUE7RUFDQSx5QkFBQTtFQUNBLGtCQUFBO0VBQ0EsZUFBQTtFQUNBLFlBQUE7RUFDQSxZQUFBO0VBQ0EsU0FBQTtFQUNBLFVBQUE7QUNKSjs7QURRQTtFQUNFLFVBQUE7RUFDQSxnQkFBQTtBQ0xGOztBRE9FO0VBQ0Usa0JBQUE7RUFDQSxxQkFBQTtFQUNBLFlBQUE7RUFDQSw2QkFBQTtFQUNBLGdDQUFBO0VBQ0EsaUNBQUE7RUFDQSxzQkFBQTtFQUNBLFNBQUE7QUNMSjs7QURPSTtFQUNFLGVBQUE7RUFDQSxpQkFBQTtFQUNBLFlBQUE7QUNMTjs7QURRSTtFQUNFLGVBQUE7RUFDQSxZQUFBO0FDTk47O0FEVUU7RUFDRSxXQUFBO0VBQ0Esa0JBQUE7RUFDQSxRQUFBO0VBQ0EsTUFBQTtFQUNBLFFBQUE7RUFDQSxTQUFBO0VBQ0EsOEJBQUE7RUFDQSw0QkFBQTtFQUNBLGVBQUE7RUFDQSxhQUFBO0VBQ0EsZUFBQTtFQUNBLG1CQUFBO0FDUko7O0FEV0U7RUFDRSxrQkFBQTtFQUNBLHFCQUFBO0VBQ0EsOEJBQUE7RUFDQSxnQ0FBQTtFQUNBLGlDQUFBO0VBQ0Esc0JBQUE7RUFDQSxTQUFBO0FDVEo7O0FEV0k7RUFDRSxlQUFBO0VBQ0EsaUJBQUE7RUFDQSxZQUFBO0FDVE47O0FEWUk7RUFDRSxlQUFBO0FDVk47O0FEY0U7RUFDRSxXQUFBO0VBQ0Esa0JBQUE7RUFDQSxPQUFBO0VBQ0EsTUFBQTtFQUNBLFFBQUE7RUFDQSxTQUFBO0VBQ0EsOEJBQUE7RUFDQSw2QkFBQTtFQUNBLGNBQUE7RUFDQSxhQUFBO0VBQ0EsZUFBQTtFQUNBLGtCQUFBO0FDWkoiLCJmaWxlIjoic3JjL2FwcC9ob21lL2NoYXQvaG9tZS9ob21lLnBhZ2Uuc2NzcyIsInNvdXJjZXNDb250ZW50IjpbImlvbi1jb250ZW50IHtcclxuICAtLWJhY2tncm91bmQ6IHdoaXRlOyAvLyB1cmwoLi4vLi4vLi4vLi4vYXNzZXRzL3doaXRlX2Zsb3dlci5qcGcpIDAgMC8xMDAlIDEwMCUgbm8tcmVwZWF0O1xyXG59XHJcblxyXG5pb24tdG9vbGJhciB7XHJcbiAgLS1iYWNrZ3JvdW5kOiByZ2IoNywgMTU2LCAxNjEpOyAvLyB1cmwoLi4vLi4vLi4vLi4vYXNzZXRzL3doaXRlX2Zsb3dlci5qcGcpO1xyXG4gIGNvbG9yOiB3aGl0ZTtcclxufVxyXG5cclxuaW9uLWxpc3Qge1xyXG4gIGJhY2tncm91bmQ6IHJnYmEoMTg2LCAxODYsIDI0OCwgMCk7XHJcbn1cclxuXHJcbmlvbi1mb290ZXIge1xyXG4gIGlvbi10b29sYmFyLmZvb3RlciB7XHJcbiAgICBoZWlnaHQ6IDgwcHg7XHJcbiAgICAtLWJhY2tncm91bmQ6IHJnYigyMTQsIDIyOCwgMTg5KTtcclxuICB9XHJcblxyXG4gIGlvbi1pY29uIHtcclxuICAgIGNvbG9yOiBncmVlbjtcclxuICB9XHJcbn1cclxuXHJcbi5tc2ctaW5wdXQge1xyXG4gIGhlaWdodDogNjBweDtcclxuICB3aWR0aDogOTAlO1xyXG4gIGJvcmRlcjogMXB4IHNvbGlkIHZhdCgtLWlvbi1jb2xvci1tZWRpdW0pO1xyXG4gIGJvcmRlci1yYWRpdXM6IDEwcHg7XHJcbiAgYmFja2dyb3VuZDogcmdiKDI1NSwgMjU1LCAyNTUpO1xyXG4gIGNvbG9yOiBibGFjaztcclxuICByZXNpemU6IG5vbmU7XHJcbiAgcGFkZGluZy1sZWZ0OiAxMHB4O1xyXG4gIHBhZGRpbmctcmlnaHQ6IDEwcHg7XHJcbn1cclxuXHJcbi5jaGF0LXN0YXR1cyB7XHJcbiAgbWluLWhlaWdodDogNDlweDtcclxuXHJcbiAgLmNoYXQtZGF0ZSB7XHJcbiAgICBkaXNwbGF5OiBibG9jaztcclxuICAgIGZvbnQtc2l6ZTogMTBweDtcclxuICAgIGZvbnQtc3R5bGU6IGl0YWxpYztcclxuICAgIGNvbG9yOiByZ2IoMCwgMCwgMCk7XHJcbiAgICAvLyB0ZXh0LXNoYWRvdzogMHB4IC0xcHggMHB4ICMyMjIsIDBweCAxcHggMHB4ICNhYWE7XHJcbiAgICBoZWlnaHQ6IDE1cHg7XHJcbiAgICBsZWZ0OiAxMCU7XHJcbiAgICByaWdodDogMTAlO1xyXG4gIH1cclxuXHJcbiAgLmNoYXQtY29udGVudC1jZW50ZXIge1xyXG4gICAgcGFkZGluZzogNXB4IDEwcHg7XHJcbiAgICBiYWNrZ3JvdW5kLWNvbG9yOiAjZTVkNGVjO1xyXG4gICAgYm9yZGVyLXJhZGl1czogNnB4O1xyXG4gICAgZm9udC1zaXplOiAxMnB4O1xyXG4gICAgY29sb3I6IHJnYigwLCAwLCAwKTtcclxuICAgIGhlaWdodDogMzRweDtcclxuICAgIGxlZnQ6IDEwJTtcclxuICAgIHJpZ2h0OiAxMCU7XHJcbiAgfVxyXG59XHJcblxyXG4uY2hhdC1tZXNzYWdlIHtcclxuICB3aWR0aDogNTAlO1xyXG4gIG1pbi1oZWlnaHQ6IDUwcHg7XHJcblxyXG4gIC5yaWdodC1idWJibGUge1xyXG4gICAgcG9zaXRpb246IHJlbGF0aXZlO1xyXG4gICAgYmFja2dyb3VuZDogIzAwMDAwMDRiO1xyXG4gICAgY29sb3I6IHdoaXRlO1xyXG4gICAgYm9yZGVyLXRvcC1sZWZ0LXJhZGl1czogLjRlbTtcclxuICAgIGJvcmRlci1ib3R0b20tbGVmdC1yYWRpdXM6IC41ZW07XHJcbiAgICBib3JkZXItYm90dG9tLXJpZ2h0LXJhZGl1czogLjVlbTtcclxuICAgIHBhZGRpbmc6IDVweCAxMHB4IDEwcHg7XHJcbiAgICBsZWZ0OiA5MCU7XHJcblxyXG4gICAgc3Bhbi5tc2ctbmFtZSB7XHJcbiAgICAgIGZvbnQtc2l6ZTogMTJweDtcclxuICAgICAgZm9udC13ZWlnaHQ6IGJvbGQ7XHJcbiAgICAgIGNvbG9yOiBibGFjaztcclxuICAgIH1cclxuXHJcbiAgICBzcGFuLm1zZy1kYXRlIHtcclxuICAgICAgZm9udC1zaXplOiAxMHB4O1xyXG4gICAgICBjb2xvcjogYmxhY2s7XHJcbiAgICB9XHJcbiAgfVxyXG5cclxuICAucmlnaHQtYnViYmxlOmFmdGVyIHtcclxuICAgIGNvbnRlbnQ6ICcnO1xyXG4gICAgcG9zaXRpb246IGFic29sdXRlO1xyXG4gICAgcmlnaHQ6IDA7XHJcbiAgICB0b3A6IDA7XHJcbiAgICB3aWR0aDogMDtcclxuICAgIGhlaWdodDogMDtcclxuICAgIGJvcmRlcjogMjdweCBzb2xpZCB0cmFuc3BhcmVudDtcclxuICAgIGJvcmRlci1sZWZ0LWNvbG9yOiAjMDAwMDAwNGI7XHJcbiAgICBib3JkZXItcmlnaHQ6IDA7XHJcbiAgICBib3JkZXItdG9wOiAwO1xyXG4gICAgbWFyZ2luLXRvcDogLTBweDtcclxuICAgIG1hcmdpbi1yaWdodDogLTI3cHg7XHJcbiAgfVxyXG5cclxuICAubGVmdC1idWJibGUge1xyXG4gICAgcG9zaXRpb246IHJlbGF0aXZlO1xyXG4gICAgYmFja2dyb3VuZDogIzNjYjdmZjcwO1xyXG4gICAgYm9yZGVyLXRvcC1yaWdodC1yYWRpdXM6IC40ZW07XHJcbiAgICBib3JkZXItYm90dG9tLWxlZnQtcmFkaXVzOiAuNGVtO1xyXG4gICAgYm9yZGVyLWJvdHRvbS1yaWdodC1yYWRpdXM6IC40ZW07XHJcbiAgICBwYWRkaW5nOiA1cHggMTBweCAxMHB4O1xyXG4gICAgbGVmdDogMTAlO1xyXG5cclxuICAgIHNwYW4ubXNnLW5hbWUge1xyXG4gICAgICBmb250LXNpemU6IDEycHg7XHJcbiAgICAgIGZvbnQtd2VpZ2h0OiBib2xkO1xyXG4gICAgICBjb2xvcjogYmxhY2s7XHJcbiAgICB9XHJcblxyXG4gICAgc3Bhbi5tc2ctZGF0ZSB7XHJcbiAgICAgIGZvbnQtc2l6ZTogMTBweDtcclxuICAgIH1cclxuICB9XHJcblxyXG4gIC5sZWZ0LWJ1YmJsZTphZnRlciB7XHJcbiAgICBjb250ZW50OiAnJztcclxuICAgIHBvc2l0aW9uOiBhYnNvbHV0ZTtcclxuICAgIGxlZnQ6IDA7XHJcbiAgICB0b3A6IDA7XHJcbiAgICB3aWR0aDogMDtcclxuICAgIGhlaWdodDogMDtcclxuICAgIGJvcmRlcjogMjdweCBzb2xpZCB0cmFuc3BhcmVudDtcclxuICAgIGJvcmRlci1yaWdodC1jb2xvcjogIzNjYjdmZjcwO1xyXG4gICAgYm9yZGVyLWxlZnQ6IDA7XHJcbiAgICBib3JkZXItdG9wOiAwO1xyXG4gICAgbWFyZ2luLXRvcDogLTBweDtcclxuICAgIG1hcmdpbi1sZWZ0OiAtMjdweDtcclxuICB9XHJcbn1cclxuIiwiaW9uLWNvbnRlbnQge1xuICAtLWJhY2tncm91bmQ6IHdoaXRlO1xufVxuXG5pb24tdG9vbGJhciB7XG4gIC0tYmFja2dyb3VuZDogcmdiKDcsIDE1NiwgMTYxKTtcbiAgY29sb3I6IHdoaXRlO1xufVxuXG5pb24tbGlzdCB7XG4gIGJhY2tncm91bmQ6IHJnYmEoMTg2LCAxODYsIDI0OCwgMCk7XG59XG5cbmlvbi1mb290ZXIgaW9uLXRvb2xiYXIuZm9vdGVyIHtcbiAgaGVpZ2h0OiA4MHB4O1xuICAtLWJhY2tncm91bmQ6IHJnYigyMTQsIDIyOCwgMTg5KTtcbn1cbmlvbi1mb290ZXIgaW9uLWljb24ge1xuICBjb2xvcjogZ3JlZW47XG59XG5cbi5tc2ctaW5wdXQge1xuICBoZWlnaHQ6IDYwcHg7XG4gIHdpZHRoOiA5MCU7XG4gIGJvcmRlcjogMXB4IHNvbGlkIHZhdCgtLWlvbi1jb2xvci1tZWRpdW0pO1xuICBib3JkZXItcmFkaXVzOiAxMHB4O1xuICBiYWNrZ3JvdW5kOiB3aGl0ZTtcbiAgY29sb3I6IGJsYWNrO1xuICByZXNpemU6IG5vbmU7XG4gIHBhZGRpbmctbGVmdDogMTBweDtcbiAgcGFkZGluZy1yaWdodDogMTBweDtcbn1cblxuLmNoYXQtc3RhdHVzIHtcbiAgbWluLWhlaWdodDogNDlweDtcbn1cbi5jaGF0LXN0YXR1cyAuY2hhdC1kYXRlIHtcbiAgZGlzcGxheTogYmxvY2s7XG4gIGZvbnQtc2l6ZTogMTBweDtcbiAgZm9udC1zdHlsZTogaXRhbGljO1xuICBjb2xvcjogYmxhY2s7XG4gIGhlaWdodDogMTVweDtcbiAgbGVmdDogMTAlO1xuICByaWdodDogMTAlO1xufVxuLmNoYXQtc3RhdHVzIC5jaGF0LWNvbnRlbnQtY2VudGVyIHtcbiAgcGFkZGluZzogNXB4IDEwcHg7XG4gIGJhY2tncm91bmQtY29sb3I6ICNlNWQ0ZWM7XG4gIGJvcmRlci1yYWRpdXM6IDZweDtcbiAgZm9udC1zaXplOiAxMnB4O1xuICBjb2xvcjogYmxhY2s7XG4gIGhlaWdodDogMzRweDtcbiAgbGVmdDogMTAlO1xuICByaWdodDogMTAlO1xufVxuXG4uY2hhdC1tZXNzYWdlIHtcbiAgd2lkdGg6IDUwJTtcbiAgbWluLWhlaWdodDogNTBweDtcbn1cbi5jaGF0LW1lc3NhZ2UgLnJpZ2h0LWJ1YmJsZSB7XG4gIHBvc2l0aW9uOiByZWxhdGl2ZTtcbiAgYmFja2dyb3VuZDogIzAwMDAwMDRiO1xuICBjb2xvcjogd2hpdGU7XG4gIGJvcmRlci10b3AtbGVmdC1yYWRpdXM6IDAuNGVtO1xuICBib3JkZXItYm90dG9tLWxlZnQtcmFkaXVzOiAwLjVlbTtcbiAgYm9yZGVyLWJvdHRvbS1yaWdodC1yYWRpdXM6IDAuNWVtO1xuICBwYWRkaW5nOiA1cHggMTBweCAxMHB4O1xuICBsZWZ0OiA5MCU7XG59XG4uY2hhdC1tZXNzYWdlIC5yaWdodC1idWJibGUgc3Bhbi5tc2ctbmFtZSB7XG4gIGZvbnQtc2l6ZTogMTJweDtcbiAgZm9udC13ZWlnaHQ6IGJvbGQ7XG4gIGNvbG9yOiBibGFjaztcbn1cbi5jaGF0LW1lc3NhZ2UgLnJpZ2h0LWJ1YmJsZSBzcGFuLm1zZy1kYXRlIHtcbiAgZm9udC1zaXplOiAxMHB4O1xuICBjb2xvcjogYmxhY2s7XG59XG4uY2hhdC1tZXNzYWdlIC5yaWdodC1idWJibGU6YWZ0ZXIge1xuICBjb250ZW50OiBcIlwiO1xuICBwb3NpdGlvbjogYWJzb2x1dGU7XG4gIHJpZ2h0OiAwO1xuICB0b3A6IDA7XG4gIHdpZHRoOiAwO1xuICBoZWlnaHQ6IDA7XG4gIGJvcmRlcjogMjdweCBzb2xpZCB0cmFuc3BhcmVudDtcbiAgYm9yZGVyLWxlZnQtY29sb3I6ICMwMDAwMDA0YjtcbiAgYm9yZGVyLXJpZ2h0OiAwO1xuICBib3JkZXItdG9wOiAwO1xuICBtYXJnaW4tdG9wOiAwcHg7XG4gIG1hcmdpbi1yaWdodDogLTI3cHg7XG59XG4uY2hhdC1tZXNzYWdlIC5sZWZ0LWJ1YmJsZSB7XG4gIHBvc2l0aW9uOiByZWxhdGl2ZTtcbiAgYmFja2dyb3VuZDogIzNjYjdmZjcwO1xuICBib3JkZXItdG9wLXJpZ2h0LXJhZGl1czogMC40ZW07XG4gIGJvcmRlci1ib3R0b20tbGVmdC1yYWRpdXM6IDAuNGVtO1xuICBib3JkZXItYm90dG9tLXJpZ2h0LXJhZGl1czogMC40ZW07XG4gIHBhZGRpbmc6IDVweCAxMHB4IDEwcHg7XG4gIGxlZnQ6IDEwJTtcbn1cbi5jaGF0LW1lc3NhZ2UgLmxlZnQtYnViYmxlIHNwYW4ubXNnLW5hbWUge1xuICBmb250LXNpemU6IDEycHg7XG4gIGZvbnQtd2VpZ2h0OiBib2xkO1xuICBjb2xvcjogYmxhY2s7XG59XG4uY2hhdC1tZXNzYWdlIC5sZWZ0LWJ1YmJsZSBzcGFuLm1zZy1kYXRlIHtcbiAgZm9udC1zaXplOiAxMHB4O1xufVxuLmNoYXQtbWVzc2FnZSAubGVmdC1idWJibGU6YWZ0ZXIge1xuICBjb250ZW50OiBcIlwiO1xuICBwb3NpdGlvbjogYWJzb2x1dGU7XG4gIGxlZnQ6IDA7XG4gIHRvcDogMDtcbiAgd2lkdGg6IDA7XG4gIGhlaWdodDogMDtcbiAgYm9yZGVyOiAyN3B4IHNvbGlkIHRyYW5zcGFyZW50O1xuICBib3JkZXItcmlnaHQtY29sb3I6ICMzY2I3ZmY3MDtcbiAgYm9yZGVyLWxlZnQ6IDA7XG4gIGJvcmRlci10b3A6IDA7XG4gIG1hcmdpbi10b3A6IDBweDtcbiAgbWFyZ2luLWxlZnQ6IC0yN3B4O1xufSJdfQ== */\"","import {Component, OnInit, ViewChild} from '@angular/core';\r\nimport * as firebase from 'Firebase';\r\nimport {ActivatedRoute, NavigationExtras, Router} from '@angular/router';\r\nimport {IonContent} from '@ionic/angular';\r\nimport {AuthService} from 'src/app/auth.service';\r\nimport {UserService} from 'src/app/user.service';\r\n\r\nexport const snapshotToArray = snapshot => {\r\n  const returnArr = [];\r\n\r\n  snapshot.forEach(childSnapshot => {\r\n    const item = childSnapshot.val();\r\n    item.key = childSnapshot.key;\r\n    returnArr.push(item);\r\n  });\r\n  return returnArr;\r\n};\r\n\r\n@Component({\r\n  selector: 'app-home',\r\n  templateUrl: './home.page.html',\r\n  styleUrls: ['./home.page.scss'],\r\n})\r\n\r\nexport class HomePage implements OnInit {\r\n\r\n  data = {type: '', displayName: '', message: ''};\r\n  chats: any = [];\r\n  roomkey: any = null;\r\n  displayName: string = null;\r\n  offStatus: boolean;\r\n  @ViewChild(IonContent, {static: false}) content: IonContent;\r\n\r\n  constructor(\r\n    private Aroute: ActivatedRoute,\r\n    private router: Router,\r\n    public user: UserService,\r\n    private auth: AuthService) {\r\n    const uid = this.auth.cUid;\r\n    this.displayName = this.user.displayName;\r\n    console.log('dispname', this.displayName);\r\n    this.roomkey = 'chatroom';\r\n\r\n    this.offStatus = false;\r\n    this.data.type = 'message';\r\n    this.data.displayName = this.displayName;\r\n\r\n    const joinData = firebase.database().ref('chatrooms/' + this.roomkey + '/chats').push();\r\n    joinData.set({\r\n      type: 'join',\r\n      user: this.displayName,\r\n      message: this.displayName + ' has joined this room.',\r\n      sendDate: Date()\r\n    });\r\n    this.data.message = '';\r\n\r\n    firebase.database().ref('chatrooms/' + this.roomkey + '/chats').on('value', resp => {\r\n      this.chats = [];\r\n      this.chats = snapshotToArray(resp);\r\n      console.log(this.chats);\r\n      setTimeout(() => {\r\n        if (this.offStatus === false) {\r\n          this.content.scrollToBottom(300);\r\n        }\r\n      }, 1000);\r\n    });\r\n  }\r\n\r\n  ngOnInit() {\r\n  }\r\n\r\n  sendMessage() {\r\n    const newData = firebase.database().ref('chatrooms/' + this.roomkey + '/chats').push();\r\n    newData.set({\r\n      type: this.data.type,\r\n      user: this.data.displayName,\r\n      message: this.data.message,\r\n      sendDate: Date()\r\n    });\r\n    this.data.message = '';\r\n  }\r\n\r\n  exitChat() {\r\n    const exitData = firebase.database().ref('chatrooms/' + this.roomkey + '/chats').push();\r\n    exitData.set({\r\n      type: 'exit',\r\n      user: this.displayName,\r\n      message: this.displayName + ' has exited this room.',\r\n      sendDate: Date()\r\n    });\r\n    this.offStatus = true;\r\n\r\n    const navExtras: NavigationExtras = {\r\n      queryParams: {\r\n        displayName: this.displayName\r\n      }\r\n    };\r\n    this.router.navigate(['/'], navExtras);\r\n  }\r\n\r\n}\r\n"],"sourceRoot":""}