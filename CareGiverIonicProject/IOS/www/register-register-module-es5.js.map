{"version":3,"sources":["./src/app/register/register.page.html","./src/app/register/register-routing.module.ts","./src/app/register/register.module.ts","./src/app/register/register.page.scss","./src/app/register/register.page.ts"],"names":[],"mappings":"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","file":"register-register-module-es5.js","sourcesContent":["module.exports = \"<ion-content class=\\\"background\\\">\\r\\n  <div class=\\\"content\\\">\\r\\n    <div style=\\\"display: flex; justify-content: center;\\\">\\r\\n      <img src=\\\"../../assets/logo.png\\\" style=\\\"height: 150px; width: 200px;\\\">\\r\\n    </div><br>\\r\\n    <ion-grid style=\\\"max-width: 465px;\\\">\\r\\n      <ion-buttons class=\\\"button-action\\\">\\r\\n        <ion-button fill=\\\"clear\\\" color=\\\"dark\\\" size=\\\"small\\\" routerLink=\\\"/tabs\\\" routerDirection=\\\"root\\\">\\r\\n          <b><p class=\\\"login-text\\\">Log In</p></b>\\r\\n        </ion-button>\\r\\n        <ion-button fill=\\\"clear\\\" color=\\\"dark\\\" size=\\\"small\\\">\\r\\n          <b><p class=\\\"Registration-text\\\">Registration</p></b>\\r\\n        </ion-button>\\r\\n      </ion-buttons><br>\\r\\n      <div class=\\\"ion-padding\\\">\\r\\n        <ion-input placeholder=\\\"Email\\\" type=\\\"email\\\" [(ngModel)]=\\\"email\\\"></ion-input>\\r\\n        <br><br>\\r\\n        <ion-input placeholder=\\\"Password\\\" type=\\\"password\\\" [(ngModel)]=\\\"password\\\"></ion-input>\\r\\n        <br><br>\\r\\n        <ion-input placeholder=\\\"Re-Password\\\" type=\\\"password\\\" [(ngModel)]=\\\"repassword\\\"></ion-input>\\r\\n        <br><br>\\r\\n        <ion-input placeholder=\\\"Garmin UserId\\\" type=\\\"text\\\" [(ngModel)]=\\\"userId\\\"></ion-input>\\r\\n      </div>\\r\\n      <ion-button class=\\\"actionbutton\\\" expand=\\\"full\\\" color=\\\"#20438d\\\" (click)=\\\"register()\\\" routerLink=\\\"/tabs\\\">\\r\\n        Registration\\r\\n      </ion-button>\\r\\n      <ion-button fill=\\\"clear\\\" style=\\\"font-size:10px; padding-bottom:20px;\\r\\n                color:lavender;margin-left:10px; text-transform:none; color:#ffbf6c;\\\" routerLink=\\\"/tabs\\\"\\r\\n                  routerDirection=\\\"root\\\">\\r\\n        Already have an account?\\r\\n      </ion-button>\\r\\n    </ion-grid>\\r\\n  </div>\\r\\n</ion-content>\\r\\n\"","import {NgModule} from '@angular/core';\r\nimport {RouterModule, Routes} from '@angular/router';\r\n\r\nimport {RegisterPage} from './register.page';\r\n\r\nconst routes: Routes = [\r\n  {\r\n    path: '',\r\n    component: RegisterPage\r\n  }\r\n];\r\n\r\n@NgModule({\r\n  imports: [RouterModule.forChild(routes)],\r\n  exports: [RouterModule],\r\n})\r\nexport class RegisterPageRoutingModule {\r\n}\r\n","import {NgModule} from '@angular/core';\r\nimport {CommonModule} from '@angular/common';\r\nimport {FormsModule} from '@angular/forms';\r\n\r\nimport {IonicModule} from '@ionic/angular';\r\n\r\nimport {RegisterPageRoutingModule} from './register-routing.module';\r\n\r\nimport {RegisterPage} from './register.page';\r\n\r\n@NgModule({\r\n  imports: [\r\n    CommonModule,\r\n    FormsModule,\r\n    IonicModule,\r\n    RegisterPageRoutingModule\r\n  ],\r\n  declarations: [RegisterPage]\r\n})\r\nexport class RegisterPageModule {\r\n}\r\n","module.exports = \"ion-content.background {\\n  --background: url('log.jpg') 0 0/100% 100% no-repeat;\\n}\\n\\n.content {\\n  position: auto;\\n  max-width: 1000px;\\n  margin-top: 100px;\\n  margin-left: 60px;\\n  margin: 100px;\\n}\\n\\n.buttons-action {\\n  margin-left: 5px;\\n}\\n\\n.login-text {\\n  font-size: x-small;\\n  color: #ffffff;\\n  text-align: center;\\n  font-family: \\\"Nunito\\\", sans-serif;\\n  text-transform: none;\\n}\\n\\n.Registration-text {\\n  margin-left: 10px;\\n  font-size: large;\\n  color: #ffffff;\\n  text-align: center;\\n  font-family: \\\"Nunito\\\", sans-serif;\\n  text-transform: none;\\n}\\n\\nion-input {\\n  background-color: #ededed;\\n  border-radius: 5px;\\n  font-size: small;\\n}\\n\\n.actionbutton {\\n  background-color: #24a7a7;\\n  color: white;\\n  border-radius: 5px;\\n  margin-left: 15px;\\n  margin-right: 13px;\\n  font-size: small;\\n  font-family: Arial, Helvetica, sans-serif;\\n}\\n/*# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbInNyYy9hcHAvcmVnaXN0ZXIvRjpcXElvbmljUHJvamVjdFxcR2l0XFxDYXJlR2l2ZXJcXENhcmVHaXZlcklvbmljUHJvamVjdC9zcmNcXGFwcFxccmVnaXN0ZXJcXHJlZ2lzdGVyLnBhZ2Uuc2NzcyIsInNyYy9hcHAvcmVnaXN0ZXIvcmVnaXN0ZXIucGFnZS5zY3NzIl0sIm5hbWVzIjpbXSwibWFwcGluZ3MiOiJBQUFBO0VBQ0Usb0RBQUE7QUNDRjs7QURFQTtFQUNFLGNBQUE7RUFDQSxpQkFBQTtFQUNBLGlCQUFBO0VBQ0EsaUJBQUE7RUFDQSxhQUFBO0FDQ0Y7O0FERUE7RUFDRSxnQkFBQTtBQ0NGOztBREVBO0VBQ0Usa0JBQUE7RUFDQSxjQUFBO0VBQ0Esa0JBQUE7RUFDQSxpQ0FBQTtFQUNBLG9CQUFBO0FDQ0Y7O0FERUE7RUFDRSxpQkFBQTtFQUNBLGdCQUFBO0VBQ0EsY0FBQTtFQUNBLGtCQUFBO0VBQ0EsaUNBQUE7RUFDQSxvQkFBQTtBQ0NGOztBREVBO0VBQ0UseUJBQUE7RUFDQSxrQkFBQTtFQUNBLGdCQUFBO0FDQ0Y7O0FERUE7RUFDRSx5QkFBQTtFQUNBLFlBQUE7RUFDQSxrQkFBQTtFQUNBLGlCQUFBO0VBQ0Esa0JBQUE7RUFDQSxnQkFBQTtFQUNBLHlDQUFBO0FDQ0YiLCJmaWxlIjoic3JjL2FwcC9yZWdpc3Rlci9yZWdpc3Rlci5wYWdlLnNjc3MiLCJzb3VyY2VzQ29udGVudCI6WyJpb24tY29udGVudC5iYWNrZ3JvdW5kIHtcclxuICAtLWJhY2tncm91bmQ6IHVybCguLi8uLi9hc3NldHMvbG9nLmpwZykgMCAwLzEwMCUgMTAwJSBuby1yZXBlYXQ7XHJcbn1cclxuXHJcbi5jb250ZW50IHtcclxuICBwb3NpdGlvbjogYXV0bztcclxuICBtYXgtd2lkdGg6IDEwMDBweDtcclxuICBtYXJnaW4tdG9wOiAxMDBweDtcclxuICBtYXJnaW4tbGVmdDogNjBweDtcclxuICBtYXJnaW46IDEwMHB4O1xyXG59XHJcblxyXG4uYnV0dG9ucy1hY3Rpb24ge1xyXG4gIG1hcmdpbi1sZWZ0OiA1cHg7XHJcbn1cclxuXHJcbi5sb2dpbi10ZXh0IHtcclxuICBmb250LXNpemU6IHgtc21hbGw7XHJcbiAgY29sb3I6ICNmZmZmZmY7XHJcbiAgdGV4dC1hbGlnbjogY2VudGVyO1xyXG4gIGZvbnQtZmFtaWx5OiAnTnVuaXRvJywgc2Fucy1zZXJpZjtcclxuICB0ZXh0LXRyYW5zZm9ybTogbm9uZTtcclxufVxyXG5cclxuLlJlZ2lzdHJhdGlvbi10ZXh0IHtcclxuICBtYXJnaW4tbGVmdDogMTBweDtcclxuICBmb250LXNpemU6IGxhcmdlO1xyXG4gIGNvbG9yOiAjZmZmZmZmO1xyXG4gIHRleHQtYWxpZ246IGNlbnRlcjtcclxuICBmb250LWZhbWlseTogJ051bml0bycsIHNhbnMtc2VyaWY7XHJcbiAgdGV4dC10cmFuc2Zvcm06IG5vbmU7XHJcbn1cclxuXHJcbmlvbi1pbnB1dCB7XHJcbiAgYmFja2dyb3VuZC1jb2xvcjogI2VkZWRlZDtcclxuICBib3JkZXItcmFkaXVzOiA1cHg7XHJcbiAgZm9udC1zaXplOiBzbWFsbDtcclxufVxyXG5cclxuLmFjdGlvbmJ1dHRvbiB7XHJcbiAgYmFja2dyb3VuZC1jb2xvcjogIzI0YTdhNztcclxuICBjb2xvcjogcmdiKDI1NSwgMjU1LCAyNTUpO1xyXG4gIGJvcmRlci1yYWRpdXM6IDVweDtcclxuICBtYXJnaW4tbGVmdDogMTVweDtcclxuICBtYXJnaW4tcmlnaHQ6IDEzcHg7XHJcbiAgZm9udC1zaXplOiBzbWFsbDtcclxuICBmb250LWZhbWlseTogQXJpYWwsIEhlbHZldGljYSwgc2Fucy1zZXJpZjtcclxufVxyXG4iLCJpb24tY29udGVudC5iYWNrZ3JvdW5kIHtcbiAgLS1iYWNrZ3JvdW5kOiB1cmwoLi4vLi4vYXNzZXRzL2xvZy5qcGcpIDAgMC8xMDAlIDEwMCUgbm8tcmVwZWF0O1xufVxuXG4uY29udGVudCB7XG4gIHBvc2l0aW9uOiBhdXRvO1xuICBtYXgtd2lkdGg6IDEwMDBweDtcbiAgbWFyZ2luLXRvcDogMTAwcHg7XG4gIG1hcmdpbi1sZWZ0OiA2MHB4O1xuICBtYXJnaW46IDEwMHB4O1xufVxuXG4uYnV0dG9ucy1hY3Rpb24ge1xuICBtYXJnaW4tbGVmdDogNXB4O1xufVxuXG4ubG9naW4tdGV4dCB7XG4gIGZvbnQtc2l6ZTogeC1zbWFsbDtcbiAgY29sb3I6ICNmZmZmZmY7XG4gIHRleHQtYWxpZ246IGNlbnRlcjtcbiAgZm9udC1mYW1pbHk6IFwiTnVuaXRvXCIsIHNhbnMtc2VyaWY7XG4gIHRleHQtdHJhbnNmb3JtOiBub25lO1xufVxuXG4uUmVnaXN0cmF0aW9uLXRleHQge1xuICBtYXJnaW4tbGVmdDogMTBweDtcbiAgZm9udC1zaXplOiBsYXJnZTtcbiAgY29sb3I6ICNmZmZmZmY7XG4gIHRleHQtYWxpZ246IGNlbnRlcjtcbiAgZm9udC1mYW1pbHk6IFwiTnVuaXRvXCIsIHNhbnMtc2VyaWY7XG4gIHRleHQtdHJhbnNmb3JtOiBub25lO1xufVxuXG5pb24taW5wdXQge1xuICBiYWNrZ3JvdW5kLWNvbG9yOiAjZWRlZGVkO1xuICBib3JkZXItcmFkaXVzOiA1cHg7XG4gIGZvbnQtc2l6ZTogc21hbGw7XG59XG5cbi5hY3Rpb25idXR0b24ge1xuICBiYWNrZ3JvdW5kLWNvbG9yOiAjMjRhN2E3O1xuICBjb2xvcjogd2hpdGU7XG4gIGJvcmRlci1yYWRpdXM6IDVweDtcbiAgbWFyZ2luLWxlZnQ6IDE1cHg7XG4gIG1hcmdpbi1yaWdodDogMTNweDtcbiAgZm9udC1zaXplOiBzbWFsbDtcbiAgZm9udC1mYW1pbHk6IEFyaWFsLCBIZWx2ZXRpY2EsIHNhbnMtc2VyaWY7XG59Il19 */\"","import {Component, OnInit} from '@angular/core';\r\nimport {AngularFireAuth} from '@angular/fire/auth';\r\nimport {Router} from '@angular/router';\r\n\r\nimport {AngularFirestore} from '@angular/fire/firestore';\r\nimport {AlertController} from '@ionic/angular';\r\n\r\nimport {UserService} from '../user.service';\r\n\r\n@Component({\r\n  selector: 'app-register',\r\n  templateUrl: './register.page.html',\r\n  styleUrls: ['./register.page.scss'],\r\n})\r\nexport class RegisterPage implements OnInit {\r\n  email: string;\r\n  password: string;\r\n  repassword: string;\r\n  userId: string;\r\n\r\n  constructor(\r\n    public afAuth: AngularFireAuth,\r\n    public afStore: AngularFirestore,\r\n    public alert: AlertController,\r\n    public user: UserService,\r\n    public router: Router) {\r\n  }\r\n\r\n  ngOnInit() {\r\n  }\r\n\r\n  // register a new account for user\r\n  async register() {\r\n    const {email, password, repassword, userId} = this;\r\n\r\n    if (password !== repassword) {\r\n      this.router.navigate(['/register']);\r\n      this.showAlert('Error', 'Password do not match');\r\n      return console.error('Password do not match');\r\n    }\r\n\r\n    try {\r\n      const credential = await this.afAuth.auth.createUserWithEmailAndPassword(email, password);\r\n      if (credential.user) {\r\n        // store user information in firebase\r\n        this.afStore.doc(`users/${credential.user.uid}`).set({\r\n          uid: credential.user.uid,\r\n          email,\r\n          displayName: email.split('@')[0],\r\n          garminUserId: this.userId,\r\n          photoURL: null,\r\n          firstName: null,\r\n          lastName: null,\r\n          age: null,\r\n          skills: null,\r\n          wellbeingScore: 0\r\n        }, {merge: true});\r\n\r\n        this.router.navigate(['/tabs']);\r\n        this.afAuth.auth.currentUser.sendEmailVerification(); // send varification email to user\r\n        console.log('We have sent you an email verification'); // user must varified his/her email\r\n        this.showAlert('Verification', 'We have sent you an email verification');\r\n      }\r\n\r\n    } catch (error) {\r\n      console.dir(error);\r\n      this.showAlert('Error', error.message);\r\n      this.router.navigate(['/register']);\r\n    }\r\n  }\r\n\r\n\r\n// pop up alert message\r\n  async showAlert(header: string, message: string) {\r\n    const alert = this.alert.create({\r\n      header,\r\n      message,\r\n      buttons: ['OK']\r\n    });\r\n    await (await alert).present();\r\n  }\r\n\r\n}\r\n"],"sourceRoot":""}