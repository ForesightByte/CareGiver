{"version":3,"sources":["./src/app/wellbeing-score/wellbeing-score.page.html","./src/app/wellbeing-score/wellbeing-score-routing.module.ts","./src/app/wellbeing-score/wellbeing-score.module.ts","./src/app/wellbeing-score/wellbeing-score.page.scss","./src/app/wellbeing-score/wellbeing-score.page.ts"],"names":[],"mappings":"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","file":"wellbeing-score-wellbeing-score-module-es5.js","sourcesContent":["module.exports = \"<ion-header>\\n  <ion-toolbar>\\n    <ion-buttons slot=\\\"start\\\">\\n      <ion-button [routerLink]=\\\"['/tabs/home']\\\" style=\\\"color: white;\\\">Back</ion-button>\\n    </ion-buttons>\\n    <ion-title style=\\\"text-align: center;\\\">Well-being Score</ion-title>\\n  </ion-toolbar>\\n</ion-header>\\n\\n<ion-content>\\n  <ion-grid style=\\\"margin-top: 30px;\\\">\\n      <ion-card class=\\\"welcome-card\\\">\\n        <ion-card-header>\\n          <ion-card-title>Well-being Score Rate Change</ion-card-title>\\n        </ion-card-header>\\n        <ion-card-content>\\n          <canvas #barChart></canvas>\\n        </ion-card-content>\\n      </ion-card>\\n  </ion-grid>\\n</ion-content>\\n\"","import {NgModule} from '@angular/core';\nimport {RouterModule, Routes} from '@angular/router';\n\nimport {WellbeingScorePage} from './wellbeing-score.page';\n\nconst routes: Routes = [\n  {\n    path: '',\n    component: WellbeingScorePage\n  }\n];\n\n@NgModule({\n  imports: [RouterModule.forChild(routes)],\n  exports: [RouterModule],\n})\nexport class WellbeingScorePageRoutingModule {\n}\n","import {NgModule} from '@angular/core';\nimport {CommonModule} from '@angular/common';\nimport {FormsModule} from '@angular/forms';\n\nimport {IonicModule} from '@ionic/angular';\n\nimport {WellbeingScorePageRoutingModule} from './wellbeing-score-routing.module';\n\nimport {WellbeingScorePage} from './wellbeing-score.page';\n\n@NgModule({\n  imports: [\n    CommonModule,\n    FormsModule,\n    IonicModule,\n    WellbeingScorePageRoutingModule\n  ],\n  declarations: [WellbeingScorePage]\n})\nexport class WellbeingScorePageModule {\n}\n","module.exports = \"ion-content {\\n  --background: white;\\n}\\n\\nion-toolbar {\\n  --background: rgb(7, 156, 161);\\n  color: white;\\n}\\n\\n.welcome-card {\\n  max-width: 40em;\\n  margin: 0 auto;\\n  padding-top: 10;\\n}\\n/*# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIi9Wb2x1bWVzL0lvbmljUHJvamVjdC9DYXJlR2l2ZXIvQ2FyZUdpdmVySW9uaWNQcm9qZWN0L2lvcy9zcmMvYXBwL3dlbGxiZWluZy1zY29yZS93ZWxsYmVpbmctc2NvcmUucGFnZS5zY3NzIiwic3JjL2FwcC93ZWxsYmVpbmctc2NvcmUvd2VsbGJlaW5nLXNjb3JlLnBhZ2Uuc2NzcyJdLCJuYW1lcyI6W10sIm1hcHBpbmdzIjoiQUFBQTtFQUNFLG1CQUFBO0FDQ0Y7O0FERUE7RUFDRSw4QkFBQTtFQUNBLFlBQUE7QUNDRjs7QURFQTtFQUNFLGVBQUE7RUFDQSxjQUFBO0VBQ0EsZUFBQTtBQ0NGIiwiZmlsZSI6InNyYy9hcHAvd2VsbGJlaW5nLXNjb3JlL3dlbGxiZWluZy1zY29yZS5wYWdlLnNjc3MiLCJzb3VyY2VzQ29udGVudCI6WyJpb24tY29udGVudCB7XG4gIC0tYmFja2dyb3VuZDogd2hpdGU7IC8vIHVybCguLi8uLi9hc3NldHMvd2hpdGVsZWFmLmpwZykgMCAwLzEwMCUgMTAwJSByZXBlYXQ7XG59XG5cbmlvbi10b29sYmFyIHtcbiAgLS1iYWNrZ3JvdW5kOiByZ2IoNywgMTU2LCAxNjEpOyAvLyB1cmwoLi4vLi4vLi4vYXNzZXRzL3Rvb2xiYXIuanBnKSAwIDAvMTAwJSAxMDAlIHJlcGVhdDtcbiAgY29sb3I6IHdoaXRlO1xufVxuXG4ud2VsY29tZS1jYXJke1xuICBtYXgtd2lkdGg6IDQwZW07XG4gIG1hcmdpbjogMCBhdXRvO1xuICBwYWRkaW5nLXRvcDogMTA7XG59IiwiaW9uLWNvbnRlbnQge1xuICAtLWJhY2tncm91bmQ6IHdoaXRlO1xufVxuXG5pb24tdG9vbGJhciB7XG4gIC0tYmFja2dyb3VuZDogcmdiKDcsIDE1NiwgMTYxKTtcbiAgY29sb3I6IHdoaXRlO1xufVxuXG4ud2VsY29tZS1jYXJkIHtcbiAgbWF4LXdpZHRoOiA0MGVtO1xuICBtYXJnaW46IDAgYXV0bztcbiAgcGFkZGluZy10b3A6IDEwO1xufSJdfQ== */\"","import {Component, OnInit, ViewChild} from '@angular/core';\nimport {UserService} from '../user.service';\nimport {AngularFireAuth} from '@angular/fire/auth';\nimport {HttpClient} from '@angular/common/http';\nimport {Chart} from 'chart.js';\nimport {AuthService} from '../auth.service';\n\n@Component({\n  selector: 'app-wellbeing-score',\n  templateUrl: './wellbeing-score.page.html',\n  styleUrls: ['./wellbeing-score.page.scss'],\n})\nexport class WellbeingScorePage implements OnInit {\n  public wellbeingScore: number;\n  @ViewChild('barChart', {static: false}) barChart;\n  bars: any;\n\n  constructor(\n    private user: UserService,\n    private http: HttpClient,\n    public afAuth: AngularFireAuth,\n    private auth: AuthService) {\n  }\n\n  ngOnInit() {\n    this.showScore();\n  }\n\n  async showScore() {\n    const uid = this.auth.cUid;\n    const score = this.user.getEma(uid);\n    let wellbeingData;\n    if (score) {\n      score.subscribe(data => {\n        wellbeingData = data;\n        const wellbeingDataset = [];\n        if (wellbeingData) {\n          const dateData = [];\n          for (const item of wellbeingData) {\n            if (item) {\n              wellbeingDataset.push(item.wellbeingScore);\n              dateData.push(item.date);\n            }\n          }\n          this.createWellbeingScoreChart(wellbeingDataset, dateData);\n        }\n      });\n      // tslint:disable-next-line: only-arrow-functions\n      setTimeout(function() {\n      }, 1000, []);\n    }\n  }\n\n  createWellbeingScoreChart(dataSet: number[], date: string[]) {\n    const labelData = [];\n    // tslint:disable-next-line: forin\n    for (const item in dataSet) {\n      labelData.push('');\n    }\n    this.bars = new Chart(this.barChart.nativeElement, {\n      type: 'bar',\n      data: {\n        labels: date,\n        datasets: [{\n          label: 'Well-being Score per Day',\n          data: dataSet,\n          backgroundColor: 'rgb(38, 194, 129)', // array should have same number of elements as number of dataset\n          borderColor: 'royalblue', // array should have same number of elements as number of dataset\n          borderWidth: 1\n        }]\n      },\n      options: {\n        scales: {\n          xAxes: [{\n            display: false,\n            barPercentage: 1.3,\n            ticks: {\n              max: 3,\n            }\n          }, {\n            display: true,\n            ticks: {\n              autoSkip: false,\n              max: 4,\n            }\n          }],\n          yAxes: [{\n            ticks: {\n              beginAtZero: true\n            }\n          }]\n        }\n      }\n    });\n  }\n}\n"],"sourceRoot":""}